{"version":3,"file":"StoryMessageManager.js","sourceRoot":"","sources":["../../../../src/framework/ink/StoryMessageManager.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAE,MAAM,qBAAqB,CAAC;AAChD,OAAO,EAAE,SAAS,EAAE,MAAM,qBAAqB,CAAC;AAEhD,MAAM,OAAO,mBAAoB,SAAQ,SAA8B;IAAvE;;QAMY,iBAAY,GAAa,IAAI,SAAS,EAAE,CAAC;IA0CrD,CAAC;IAvCU,WAAW,CAAC,OAAc,EAAC,GAAO,EAAE,QAAiB;QAExD,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,OAAO,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;IAC1D,CAAC;IAEM,cAAc,CAAC,OAAc,EAAE,QAAiB;QACnD,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IACxD,CAAC;IAEM,oBAAoB,CAAC,OAAc;QACtC,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;IACpD,CAAC;IAEM,OAAO;QACV,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;IAChC,CAAC;IAEM,qBAAqB,CACxB,OAAc,EACd,cAAqB,EACrB,SAAgB,EAChB,WAAoB,EACpB,cAAuB;QAIvB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,OAAO,EAAE,cAAc,EAAC,SAAS,EAAC,WAAW,EAAC,cAAc,CAAC,CAAC;IAC9F,CAAC;IAEM,yBAAyB,CAC5B,QAAe,EACf,cAAuB;QAEvB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,QAAQ,EAAC,cAAc,CAAC,CAAC;IACzD,CAAC;IAEM,sBAAsB,CAAC,QAAe;QACzC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IAC1C,CAAC;;AA7Ca,kCAAc,GAAU,IAAI,AAAd,CAAe;AAC7B,sCAAkB,GAAU,IAAI,AAAd,CAAe;AACjC,mCAAe,GAAU,IAAI,AAAd,CAAe","sourcesContent":["import { Choice } from \"inkjs/engine/Choice\";\r\nimport { Messenger } from \"../common/Messenger\";\r\nimport { Singleton } from \"../common/Singleton\";\r\n\r\nexport class StoryMessageManager extends Singleton<StoryMessageManager>{\r\n\r\n    public static ONCONTENTREADY:number = 1001;\r\n    public static ONCHOICESPRESENTED:number = 1002;\r\n    public static ONSTORYFINISHED:number = 1003;\r\n\r\n    private storyMessage:Messenger = new Messenger();\r\n\r\n\r\n    public addListener(msgCode:number,obj:any, listener:Function){\r\n\r\n        this.storyMessage.addListener(msgCode, obj, listener);\r\n    }\r\n\r\n    public removeListener(msgCode:number, listener:Function){\r\n        this.storyMessage.removeListener(msgCode, listener);\r\n    }\r\n\r\n    public removeListenerByCode(msgCode:number){\r\n        this.storyMessage.removeListenerByType(msgCode);\r\n    }\r\n\r\n    public clearup(){\r\n        this.storyMessage.clearup();\r\n    }\r\n\r\n    public broadcastContentReady(\r\n        msgCode:number,\r\n        speakerContent:string,\r\n        speakerId:string,\r\n        currentTags:string[],\r\n        currentChoices:Choice[]\r\n        )\r\n    {\r\n\r\n        this.storyMessage.broadcast(msgCode, speakerContent,speakerId,currentTags,currentChoices);\r\n    }\r\n\r\n    public broadcastChoicesPresented(\r\n        mesgCode:number,\r\n        currentChoices:Choice[]\r\n    ){\r\n        this.storyMessage.broadcast(mesgCode,currentChoices);\r\n    }\r\n\r\n    public broadcastStoryFinished(mesgCode:number){\r\n        this.storyMessage.broadcast(mesgCode);   \r\n    }\r\n}"]}