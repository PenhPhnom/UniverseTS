{"version":3,"file":"UIFactory.js","sourceRoot":"","sources":["../../../../src/framework/ui/UIFactory.ts"],"names":[],"mappings":"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","sourcesContent":["\r\nimport { UILoginPage } from \"../../game/module/login/ui/UILoginPage\";\r\nimport { UIPanel } from \"./UIPanel\";\r\nimport { UIHomePage } from \"../../game/module/home/ui/UIHomePage\";\r\nimport { UILoading } from \"./UILib/UILoading\";\r\nimport { loginUI } from \"../../data/ui/login\";\r\nimport { commonUI } from \"../../data/ui/common\";\r\nimport { homeUI } from \"../../data/ui/home\";\r\nimport { UIMsgBox } from \"./UILib/UIMsgBox\";\r\nimport { UISelServerWin } from \"../../game/module/login/ui/UISelServerWin\";\r\nimport { UIShopPage } from \"../../game/module/home/ui/UIShopPage\";\r\nimport { storyUI } from \"../../data/ui/story\";\r\nimport { UIStoryWin } from \"../../game/module/story/UIStoryWin\";\r\nimport { combatUI } from \"../../data/ui/combat\";\r\nimport { UIGuideWin } from \"../../game/module/guide/UIGuideWin\";\r\nimport { Logger } from \"../logger/Logger\";\r\n\r\n\r\n\r\nconst CS = require('csharp');\r\n\r\n\r\nexport class UIFactory{\r\n\r\n    public static uiCache:Map<string,UIPanel> = new Map<string,UIPanel>();\r\n\r\n    public static createUI(pkg:string, name:string){\r\n        Logger.log(`create UI: ${pkg}:${name}`)\r\n        let comp = CS.FairyGUI.UIPackage.CreateObject(pkg, name).asCom\r\n        \r\n        let ui:UIPanel = this.uiCache.get(name);\r\n\r\n        if(!ui){\r\n\r\n            switch(pkg){\r\n\r\n                case commonUI.PackageName:\r\n                    switch (name){\r\n                        //common\r\n                        case commonUI.UIUINoticeWin:\r\n                            ui = new UIMsgBox();\r\n                            break;\r\n                        case commonUI.UILoadingPage:\r\n                            ui = new UILoading();\r\n                            break;\r\n                        case commonUI.UIUIGuideWin:\r\n                            ui = new UIGuideWin()\r\n                    }\r\n        \r\n                    break\r\n                case loginUI.PackageName:\r\n                    switch (name){\r\n                        //login\r\n                        case loginUI.UILoginPage:\r\n                            ui = new UILoginPage();\r\n                            break;\r\n                        case loginUI.UISelServerWin:\r\n                            ui = new UISelServerWin();\r\n                            break;\r\n                    }\r\n                    break\r\n                case combatUI.PackageName:\r\n\r\n                    break\r\n                case homeUI.PackageName:\r\n                    switch (name){\r\n                        case homeUI.UIHomePage:\r\n                            ui = new UIHomePage();\r\n                            break;\r\n                        case homeUI.UIShopPage:\r\n                            ui = new UIShopPage();\r\n                            break;\r\n                    }\r\n                    break\r\n                case storyUI.PackageName:\r\n                    switch (name){\r\n                        case storyUI.UIStoryWin:\r\n                            ui = new UIStoryWin();\r\n                            break;\r\n                    }\r\n                    break\r\n\r\n            }\r\n\r\n            this.uiCache.set(name, ui);\r\n        }\r\n        \r\n        if(ui!=null){\r\n            ui.fui = comp;\r\n            ui.name = name;\r\n            ui.pkgName = pkg;\r\n\r\n            //绑定FairyGUI控件\r\n            ui.bindAll(ui);\r\n            ui.awake();\r\n        \r\n        }else{\r\n            Logger.error(`not create ui: ${pkg}-${name}`);\r\n        }\r\n\r\n        return ui;\r\n    }\r\n\r\n\r\n\r\n}"]}