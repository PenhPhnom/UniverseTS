{"version":3,"file":"ArrayMap.js","sourceRoot":"","sources":["../../../../src/framework/core/ArrayMap.ts"],"names":[],"mappings":"AAAA,MAAM,OAAO,QAAQ;IAArB;QAEY,SAAI,GAAY,IAAI,KAAK,EAAK,CAAC;QAC/B,SAAI,GAAY,IAAI,GAAG,EAAO,CAAC;IAoC3C,CAAC;IAnCU,GAAG,CAAC,GAAK,EAAC,KAAO;QAEpB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QAC1B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACtB,OAAO,KAAK,CAAC;IACjB,CAAC;IAEM,GAAG,CAAC,GAAK;QAEZ,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC9B,CAAC;IAEM,MAAM,CAAC,GAAK;QAEf,IAAI,GAAG,GAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC3B,IAAG,CAAC,GAAG;YAAC,OAAO,IAAI,CAAC;QACpB,IAAI,KAAK,GAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACjC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAC,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACtB,OAAO,GAAG,CAAC;IACf,CAAC;IAED;;OAEG;IACI,MAAM;QAET,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IAEM,OAAO;QAEV,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,CAAC,CAAC;QACnB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;IACtB,CAAC;CACJ","sourcesContent":["export class ArrayMap<K, V>\r\n{\r\n    private _arr:Array<V> = new Array<V>();\r\n    private _map:Map<K,V> = new Map<K,V>();\r\n    public add(key:K,value:V):V\r\n    {\r\n        this._map.set(key, value);\r\n        this._arr.push(value);\r\n        return value;\r\n    }\r\n\r\n    public get(key:K):V\r\n    {\r\n        return this._map.get(key);\r\n    }\r\n\r\n    public remove(key:K):V\r\n    {\r\n        var obj=this._map.get(key);\r\n        if(!obj)return null;\r\n        var index=this._arr.indexOf(obj);\r\n        this._arr.splice(index,1);\r\n        this._map.delete(key);\r\n        return obj;\r\n    }\r\n\r\n    /**\r\n     * 返回新的数组实例\r\n     */\r\n    public getArr():Array<V>\r\n    {\r\n        return this._arr;\r\n    }\r\n\r\n    public dispose()\r\n    {\r\n        this._arr.length=0;\r\n        this._map.clear();\r\n    }\r\n}"]}