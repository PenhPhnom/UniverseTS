{"version":3,"file":"TimeUtil.js","sourceRoot":"","sources":["../../../../src/framework/util/TimeUtil.ts"],"names":[],"mappings":"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","sourcesContent":["import { Logger } from \"../logger/Logger\";\r\n\r\n\r\nexport class TimeUtil{\r\n\r\n\r\n    private static prefixInteger(num, length):string{\r\n\r\n        return  (Array(length).join('0') + num).slice(-length);\r\n    }\r\n\r\n    //将一个时间数转换成\"00:00:00\"格式\r\n    public static getTimeString1(timeInt : number):string {\r\n\r\n        if(timeInt <= 0){\r\n            return \"00:00:00\";\r\n        }else{\r\n\r\n            let hour:number = Math.floor(timeInt / (60 * 60));\r\n            let hourstr = this.prefixInteger(hour, 2);\r\n\r\n            let minnute:number = Math.floor(timeInt/ 60) % 60;\r\n            let minutestr:string = this.prefixInteger(minnute, 2);\r\n\r\n            let second:number = timeInt % 60;\r\n            let secondstr:string = this.prefixInteger(second,2);\r\n\r\n            return `${hourstr}:${minutestr}:${secondstr}`;\r\n        }\r\n        \r\n    }\r\n\r\n    //将一个时间数转换成\"00:00\"格式\r\n    public static getTimeString(timeInt:number):string{\r\n\r\n        if(timeInt <= 0){\r\n            return \"00:00:00\";\r\n        }else{\r\n            let hour:number = Math.floor(timeInt / (60 * 60));\r\n            let hourstr = this.prefixInteger(hour, 2);\r\n\r\n            let minnute:number = Math.floor(timeInt/ 60) % 60;\r\n            let minutestr:string = this.prefixInteger(minnute, 2);\r\n\r\n            return `${hourstr}:${minutestr}`;\r\n        }\r\n    }\r\n\r\n    //将一个时间数转换成\"00\"分格式\r\n    public static getTimeMinuteString(timeInt:number):string{\r\n\r\n        if(timeInt <= 0){\r\n            return \"00:00:00\";\r\n        }else{\r\n        \r\n            let minnute:number = Math.floor(timeInt/ 60) % 60;\r\n            let minutestr:string = this.prefixInteger(minnute, 2);\r\n\r\n            return `${minutestr}`;\r\n        }\r\n    }\r\n\r\n    //将一个时间数转换成\"00“秒格式\r\n    public static getTimeSecondString(timeInt:number):string{\r\n\r\n        if(timeInt <= 0){\r\n            return \"00:00:00\";\r\n        }else{\r\n            let second:number = timeInt % 60;\r\n            let secondstr:string = this.prefixInteger(second,2);\r\n\r\n            return `${secondstr}`;\r\n        }\r\n    }\r\n\r\n    //获取本月1号是星期几\r\n    public static getWeekOfMonthFirstDay(time:number):number{\r\n\r\n        let date = new Date(time);\r\n        date.setDate(1);\r\n\r\n        return date.getDay();\r\n    }\r\n\r\n    //判断是否为闰年\r\n    public static isLeapYear(year:number)\r\n    {\r\n        if ( (year % 4 == 0 && year % 100 != 0) || (year % 400 == 0) ){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    //每个月对应的天数\r\n    static  months:Array<number> = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n    private static getMonthDays_(year:number, month:number):number{\r\n        if(month == 2){\r\n            if(this.isLeapYear(year))\r\n                return 29;\r\n            else{\r\n                return 28;\r\n            }\r\n        }else{\r\n            return this.months[month];\r\n        }\r\n    }\r\n\r\n    public static getMonthDays(time:number):number {\r\n\r\n        let t = new Date(time);\r\n\r\n        return this.getMonthDays_(t.getFullYear(), t.getMonth());\r\n    }\r\n\r\n\r\n    public static async sleep(ms:number){\r\n        return new Promise((resolve) =>{\r\n            setTimeout(()=>{\r\n                resolve('');\r\n            }, ms);\r\n        });\r\n    }\r\n\r\n\r\n    public static test():void{\r\n\r\n        let t1:string = this.getTimeString1(5000);\r\n        Logger.log(t1);\r\n        \r\n\r\n        let t2:string = this.getTimeString(5000);\r\n        Logger.log(t2);\r\n\r\n        let t3:string = this.getTimeMinuteString(5000);\r\n        Logger.log(t3);\r\n\r\n        let t4:string = this.getTimeSecondString(5000);\r\n        Logger.log(t4);\r\n\r\n        let time:number = new Date().getTime();\r\n\r\n        let t5:number = this.getWeekOfMonthFirstDay(time);\r\n        Logger.log(\"getWeekOfMonthFirstDay: \"+t5 + \" ,time:\"+time);\r\n\r\n        let t6:number = this.getMonthDays(time);\r\n        Logger.log(\"getMonthDays: \"+t6);\r\n\r\n    }\r\n\r\n\r\n}"]}